#!/bin/bash

# Función para detectar si hay audio en reproducción con media.role "music"
detectar_audio() {
    # Verificar si hay entradas de audio en ejecución con media.role "music"
    pacmd list-sink-inputs | awk '/state: RUNNING/ && /media.role = "music"/ {
        app_name = gensub(/.*application.process.binary = (.*)/, "\\1", "g");
        print app_name;
        found = 1;
    }
    END {
        if (!found) {
            print "Sin música en reproducción";
        }
    }'
}

# Llamar a la función para detectar el audio
detectar_audio
